<style>
    .info {
        padding: 6px 8px;
        font: 14px/16px Arial, Helvetica, sans-serif;
        background: white;
        background: rgba(255,255,255,0.8);
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        border-radius: 5px;
    }

    .info h4 {
        margin: 0 0 5px;
        color: #777;
    }

    .legend {
        line-height: 18px;
        color: #555;
    }

    .legend i {
        width: 18px;
        height: 18px;
        float: left;
        margin-right: 8px;
        opacity: 0.7;
    }

    .mapcontainer {
        z-index: 5;
    }
</style>

<script src="public/plugins/gridprotectionalliance-phasormap-panel/lib/leaflet.js"></script>
<script src="public/plugins/gridprotectionalliance-phasormap-panel/lib/leaflet.polylineDecorator.js"></script>

<div id="mapid_{{ctrl.panel.id}}" class="mapcontainer" ng-style="{height: ctrl.height}"></div>
<div id="maplegend_{{ctrl.panel.id}}" class="graph-legend-wrapper" ng-if="ctrl.panel.showLegend">
    <table style="width:100%">
        <tr>
            <td>Site</td>
            <td>Magnitude</td>
            <td>Angle</td>
            <td>Max Angle</td>
            <td>Min Angle</td>
        </tr>
        <tr ng-repeat="x in data">
            <td>{{x.target}}</td>
            <td>{{x.magvalue.toFixed(2)}}</td>
            <td>{{ctrl.fixAngle(x.anglevalue).toFixed(2)}}</td>
            <td>{{ctrl.fixAngle(x.maxanglevalue).toFixed(2)}}</td>
            <td>{{ctrl.fixAngle(x.minanglevalue).toFixed(2)}}</td>

        </tr>
    </table>
</div>